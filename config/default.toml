# Double Pendulum Simulation Configuration
# All angles are in degrees, converted to radians internally

[physics]
gravity = 9.81
length1 = 1.0
length2 = 1.0
mass1 = 1.0
mass2 = 1.0
initial_angle1_deg = 152.2
initial_angle2_deg = 152.0
initial_velocity1 = 0.0
initial_velocity2 = 0.0

[simulation]
pendulum_count = 10000
angle_variation_deg = 0.1      # Spread around initial_angle1
duration_seconds = 11.0        # Physical simulation time
total_frames = 660             # Number of frames to output
substeps_per_frame = 20        # dt = duration / (frames * substeps)

[render]
width = 2160
height = 2160
thread_count = 0               # 0 = auto-detect hardware concurrency

[post_process]
# Standard post-processing pipeline: normalize -> exposure -> tone_map -> contrast -> gamma
tone_map = "none"              # "none", "reinhard", "reinhard_extended", "aces", "logarithmic"
reinhard_white_point = 1.0     # Only used with reinhard_extended
exposure = 0.0                 # Brightness in stops (0 = no change, +1 = 2x brighter)
contrast = 1.0                 # Centered at 0.5 (1.0 = no change, >1 = more contrast)
gamma = 2.2                    # Display gamma (2.2 = sRGB standard)

[color]
scheme = "spectrum"            # spectrum, rainbow, heat, cool, monochrome
start = 0.0                    # Range start [0, 1]
end = 1.0                      # Range end [0, 1]

[detection]
# Boom: when pendulums start diverging (chaos onset)
boom_threshold = 0.1           # radians^2
boom_confirmation = 10         # Consecutive frames above threshold

# White: when variance exceeds this (full chaos/noise)
white_threshold = 700.0        # radians^2
white_confirmation = 10        # Consecutive frames above threshold

# Optional early stopping
early_stop_after_white = false

[output]
format = "png"                 # "png" or "video"
directory = "output"
filename_prefix = "frame"
video_codec = "libx264"
video_crf = 23                 # Quality (0-51, lower = better)
video_fps = 60                 # Video FPS (only affects video encoding, not simulation)
